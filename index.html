<!DOCTYPE html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="计算巢是阿里云开放给企业应用服务商的服务管理平台。服务商能够在计算巢上发布私有化部署服务，为其客户提供云上软件一键部署的能力；同时也支持全托管模式的服务，赋能服务商托管其客户资源。">
  <title>Quick Building a RAG Service on Compute Nest with LLM on PAI-EAS and AnalyticDB for PostgreSQL - GenAI-LLM-RAG - Aliyun 计算巢 x Demo</title>

  <link rel="shortcut icon" href="img/favicon.ico">

  <link rel="stylesheet" href="https://unpkg.com/purecss@1.0.0/build/pure-min.css">
  <link rel="stylesheet" href="css/theme.css">
  

  

  
  

  
    <script src="search/main.js"></script>
  

  

  <script src="js/highlight.min.js"></script>
  <script>hljs.highlightAll();</script>
</head>

<body>
  <div class="container">
    <div class="nav">
      <div class="nav-inner">
        <div class="logo">
          <img src="./img/logo-2x.png">
        </div>
        <div class="nav-list">
          <ul>
          
              <li><a href="#quick-building-a-rag-service-on-compute-nest-with-llm-on-pai-eas-and-analyticdb-for-postgresql-genai-llm-rag">Quick Building a RAG Service on Compute Nest with LLM on PAI-EAS and AnalyticDB for PostgreSQL - GenAI-LLM-RAG</a></li>
              
                  <li><a href="#introduction">Introduction</a></li>
                  
              
                  <li><a href="#prerequisites">Prerequisites</a></li>
                  
              
                  <li><a href="#step-1-alibaba-cloud-account-setup">Step 1: Alibaba Cloud Account Setup</a></li>
                  
              
                  <li><a href="#step-2-access-compute-nest">Step 2: Access Compute Nest</a></li>
                  
              
                  <li><a href="#step-3-set-up-an-instance-and-its-parameters">Step 3: Set Up an Instance and Its Parameters</a></li>
                  
              
                  <li><a href="#step-4-create-a-pai-eas-service-for-llm">Step 4: Create a PAI-EAS Service for LLM</a></li>
                  
              
                  <li><a href="#step-5-setup-analyticdb-for-postgresql">Step 5: Setup AnalyticDB for PostgreSQL</a></li>
                  
              
                  <li><a href="#step-6-webui-credential-and-network-configuration">Step 6: WebUI Credential and Network Configuration</a></li>
                  
              
                  <li><a href="#step-7-integrate-gradio-for-web-ui">Step 7: Integrate Gradio for Web UI</a></li>
                  
              
                  <li><a href="#step-8-deploy-your-rag-service">Step 8: Deploy Your RAG Service</a></li>
                  
              
                  <li><a href="#using-the-rag-service">Using the RAG Service</a></li>
                  
                      <li class="li-h3"><a href="#general-question-answering">General Question Answering</a></li>
                  
                      <li class="li-h3"><a href="#uploading-documents-for-retrieval-augmentation">Uploading Documents for Retrieval Augmentation</a></li>
                  
                      <li class="li-h3"><a href="#modifying-the-service-via-ecs">Modifying the Service via ECS</a></li>
                  
              
                  <li><a href="#additional-resources">Additional Resources</a></li>
                  
              
          
          </ul>
        </div>
      </div>
    </div>
    <div class="content theme-github">
      
      <div class="content-inner">        
        
        <h1 id="quick-building-a-rag-service-on-compute-nest-with-llm-on-pai-eas-and-analyticdb-for-postgresql-genai-llm-rag">Quick Building a RAG Service on Compute Nest with LLM on PAI-EAS and AnalyticDB for PostgreSQL - GenAI-LLM-RAG</h1>
<p><img alt="Alt text" src="image.png" /></p>
<h2 id="introduction">Introduction</h2>
<p>This guide will walk you through the process of creating a Retrieval-Augmented Generation (RAG) service using Compute Nest with Large Language Models (LLM) on Alibaba Cloud's Platform for AI – Elastic Algorithm Service (PAI-EAS), AnalyticDB for PostgreSQL as the vector store, Gradio for the web UI, and Langchain for orchestration.</p>
<h2 id="prerequisites">Prerequisites</h2>
<ul>
<li>An active Alibaba Cloud account</li>
<li>Familiarity with cloud services and AI models</li>
</ul>
<h2 id="step-1-alibaba-cloud-account-setup">Step 1: Alibaba Cloud Account Setup</h2>
<p>Ensure you have an Alibaba Cloud account. Sign up <a href="https://www.alibabacloud.com/">here</a> if you still need to do so.</p>
<h2 id="step-2-access-compute-nest">Step 2: Access Compute Nest</h2>
<p>Find the service <a href="https://computenest.console.aliyun.com/user/ap-southeast-1/serviceInstanceCreate?ServiceId=service-d3a14420ecbb4759bfc0">GenAI-LLM-RAG</a> in Alibaba Cloud-&gt;Console-&gt;Compute Nest with your Alibaba Cloud credentials. And press the "Offical Use."
<img alt="Press offical use" src="image-1.png" /></p>
<h2 id="step-3-set-up-an-instance-and-its-parameters">Step 3: Set Up an Instance and Its Parameters</h2>
<p>Set up the necessary parameters of the instance:
<img alt="Alt text" src="image-2.png" />
1. Enter the service instance name
2. Choose ECS (Elastic Computing Services) parameters. Recommended to choose ecs.c6.2xlarge. In this case, the uploaded document will be faster
3. Insert instance password</p>
<h2 id="step-4-create-a-pai-eas-service-for-llm">Step 4: Create a PAI-EAS Service for LLM</h2>
<p>Deploy a pre-trained LLM on PAI-EAS:
1. Choose the suitable LLM from the menu.
2. Set the instance type
3. Deploy and note the API endpoint.
<img alt="Alt text" src="image-3.png" /></p>
<h2 id="step-5-setup-analyticdb-for-postgresql">Step 5: Setup AnalyticDB for PostgreSQL</h2>
<ol>
<li>Choose the AnalyticDB for PostgreSQL instance specification.</li>
<li>Segment Storage Size: The size of the documents could be decided depending on your knowledge.</li>
<li>The default DB username is "kbsuser". Usually, the database name will be the same as the user name. Feel free to put another username. </li>
<li>You need to create a strong password, for instance. Note: not use in a password symbol "@"
<img alt="Alt text" src="image-4.png" /></li>
</ol>
<h2 id="step-6-webui-credential-and-network-configuration">Step 6: WebUI Credential and Network Configuration</h2>
<ol>
<li>The default username is "admin". You could choose another username. </li>
<li>
<p>You need to create a strong password, for instance.
<img alt="Alt text" src="image-5.png" /></p>
</li>
<li>
<p>As VPC can be chosen from existing VPC. To create a new VPC, you can activate the slider and put related information.</p>
</li>
<li>After, press "Next: Confirm Order."</li>
</ol>
<p><img alt="Alt text" src="image-7.png" /></p>
<h2 id="step-7-integrate-gradio-for-web-ui">Step 7: Integrate Gradio for Web UI</h2>
<p>Create a web UI with Gradio:
1. Set up Gradio.
2. Connect it to the backend services (PAI-EAS, vector store).</p>
<h2 id="step-8-deploy-your-rag-service">Step 8: Deploy Your RAG Service</h2>
<p>After checking all related information and accepting the "Terms of Service" by pressing "Create Now," the service can be deployed. Need to wait for a while to finish all the steps.
<img alt="Alt text" src="image-8.png" /></p>
<h2 id="using-the-rag-service">Using the RAG Service</h2>
<p><img alt="Alt text" src="image-9.png" /></p>
<h3 id="general-question-answering">General Question Answering</h3>
<p>Users can ask questions through the Gradio web UI, and the LLM will process and provide answers.</p>
<h3 id="uploading-documents-for-retrieval-augmentation">Uploading Documents for Retrieval Augmentation</h3>
<p>Users can upload documents converted into vector store and save them in AnalyticDB for PostgreSQL.</p>
<h3 id="modifying-the-service-via-ecs">Modifying the Service via ECS</h3>
<p>Authorized users can access ECS to make changes or updates to the service.</p>
<h2 id="additional-resources">Additional Resources</h2>
<p>For more detailed information, consult the following:
- <a href="https://www.alibabacloud.com/blog/compute-nest-enabling-cutting-edge-generative-ai-integration-and-knowledge-base-systems-in-collaboration-with-alibaba-cloud_600421">Compute Nest Documentation</a>
- <a href="https://www.alibabacloud.com/help/en/pai/user-guide/overview-2">Alibaba Cloud PAI-EAS Documentation</a>
- <a href="https://www.alibabacloud.com/help/product/28108.htm">AnalyticDB for PostgreSQL Documentation</a>
- <a href="https://www.gradio.app/docs/interface">Gradio Documentation</a>
- <a href="https://python.langchain.com/docs/get_started/introduction">LangChain Documentation</a></p>
<p>Additional tutorials:
- <a href="https://www.alibabacloud.com/blog/empowering-generative-ai-with-alibaba-cloud-pais-advanced-llm-and-langchain-features_600577">Empowering Generative AI with Alibaba Cloud PAI's Advanced LLM and LangChain Features</a>
- <a href="https://www.alibabacloud.com/blog/solution-1b-how-to-use-ecs-%2B-pai-%2B-analyticdb-for-postgresql-to-build-a-llama2-solution_600287">Solution 1B: How to Use ECS + PAI + AnalyticDB for PostgreSQL to Build a Llama2 Solution</a>
- <a href="https://www.alibabacloud.com/blog/tutorial-building-an-exciting-journey-for-your-genai-application-with-llama-2-analyticdb-pai-eas_600283">Tutorial: Building an Exciting Journey for Your GenAI Application with Llama 2, AnalyticDB, PAI-EAS</a>
- <a href="https://www.alibabacloud.com/blog/mastering-generative-ai---run-llama2-models-on-alibaba-clouds-pai-with-ease_600229">https://www.alibabacloud.com/blog/mastering-generative-ai---run-llama2-models-on-alibaba-clouds-pai-with-ease_600229</a>
- <a href="https://www.alibabacloud.com/blog/next-level-conversations-llm-%2B-vectordb-with-alibaba-cloud-is-customizable-and-cost-efficient_599985">Next-Level Conversations: LLM + VectorDB with Alibaba Cloud Is Customizable and Cost-Efficient</a></p>
<p>By following this guide, you should be able to set up a functional RAG service on Compute Nest, leveraging the powerful features of PAI-EAS, AnalyticDB, Gradio, and Langchain.</p>
        
      </div>

      <div class="copyrights">© 2009-2022 Aliyun.com 版权所有</div>
    </div>
  </div>
  
  <!--
  MkDocs version      : 1.5.3
  Docs Build Date UTC : 2024-01-11 01:32:59.499404+00:00
  -->
</body>
</html>